## 1. 虚拟网卡模式：
### 1.1 结构
- clash成为一个路由器，一头是本主机的物理网卡，用于连接互联网；一头是一张虚拟网卡A。
 - 本主机失去了物理网卡，而是使用一张与clash虚拟网卡B同一LAN的网卡。且该卡配置的网关是clash的虚拟网卡B的ip地址
### 1.2 效果/作用
#### 1.2.1 通过域名访问网站的过程：
##### 1.2.1.1 域名解析
- 主机请求域名解析时，需要通过主机的虚拟网卡B，向clash的虚拟网卡A发送请求。
- 其实clash的虚拟网卡A是为了兼容协议的，数据包根本不需要经过真实的发送过程。clash保留目的地址的域名，返回一个与虚拟网卡同网络的ip地址。
##### 1.2.1.2 浏览器发送数据包
- 浏览器得到域名对应的ip后，封装packet，网主机的虚拟网口B发送
##### 1.2.1.3 clash对数据包的处理
- 数据包到达网口B后，发现是目的地址是本网络的，于是，数据包会交给clash内核处理。
- clash内核，把源ip改成物理网卡的ip地址。会根据目的ip地址，找到初始时保存的域名，通过规则，确定目的ip地址的形式：直连，proxy groups。
	- 若是直连，同过物理网卡发起dns请求，然后把目的ip改成真实目的ip发送
	- 若是proxy groups，则把目的ip改成proxy groups的ip，把真实的域名插入到数据包中。代理服务器收到数据包后，解析到域名，得到需要的包，后回送。
#### 1.2.2 通过ip地址访问网站的过程：

系统代理：



- 非对称加密,对称加密,数字摘要-->数字签名，加密通信
	- https=http + stl
		- 证书（CA担保服务器持有域名，数字签名保证这句话是CA说的，用公钥标识服务器）
		- 初始阶段用非对称加密，后续通过沟通采用对称加密，每次连接都会使用不同的对称加密密钥。
	- ssl
		- 身份验证之你应该持有什么，对客户端的身份验证，服务器端需要持有ssl的公钥。
		- 服务器通过发起一个挑战来验证客户时候具备ssl
		- git有多个公钥-私钥对，需要进行一定的配置，来确定当前与服务器通信采用哪儿个客户端身份。
- git和github的联动
	- git完成一次提交：工作目录，暂存区，仓库 以及 各种状态
	- git完成一次merge：确定分支的汇合点-->fast ward还是conflict。在conflict下，尽可能保持两个人的修改，若对同一个地方修改不同，则需要自己判断处理冲突了。
	- git完成一次git push：等效成git merge，但是要站在仓库那个分支上，且仅支持fast ward
	- git完成一次git fetch：把对应仓库对应分支的进度拉到跟踪上去。
	- push request：等效成git merge,但要站在目标仓库那个分支上。
- linux：
	- wsl+vmware+clash的网络架构
		- vmware: hostonly，NAT，直连
		- clash: 系统代理，虚拟网卡模式
	- vim：hjkl, wbWBG,iaoOrx
	- linux的基础指令