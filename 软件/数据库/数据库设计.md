
#### 数据库设计（一）
7：54
==**函数依赖FD(Function Dependency)**== 
12：00
**多值依赖** MVD(Multi-valued Dependency)
函数依赖是多值依赖的特例
18:20
**连接依赖JD（join dependency）** 
- 实际情况很少出现
- **定义：** 投影分解成多个子表，无损连接，==无损连接分解== ，说明属性之间存在连接依赖

#### 数据库设计（二）

- 关系数据库一定得满足一范式，每个属性是原子的

7：53 
### 二范式  
S(S#,SNAME,AGE,C#,GRADE)
存在以下依赖关系：
- S->SNAME or AGE 
- S,C->GRADE
所以说主键就是 S,C
但是主键中的一部分是能够决定某些属性的（存在部分函数依赖）
所以不满足**第二范式** 

**不满足二范式的缺点：** 
- 插入异常：因为主键不能为空，所以插入的每个数据一定得有(S,C),所以当一个学生没有选课的时候，就不能插入
- 删除异常：如果说一个学生只修了一门课，那么删除这个课的时候，他的基本信息也要跟着删除，所以就信息损失了
- 更新异常：相同的基本信息，出现多次，如果要更新年龄，那么可能因为信息冗余，通过主键只选择了其中的一条，那么就会部分更新部分没更新，不符合一致性了
**解决途径：** ==一事一地== 

### 三范式
EMP(EMP#,SAL_LEVEL,SAL)
存在以下依赖关系：
- EMP->SAL_LEVEL or SAL
- SAL_LEVEL->SAL
所以主键是EMP
但是主属性外的属性之间存在函数依赖（存在传递函数依赖）
所以不满足**第三范式** 

**不满足三范式的缺点：** 
- 插入异常：（自己的理解：本来非主属性是可以空白的，但是因为存在传递函数依赖，那么就得保证那么属性得插入才行）当新公司薪资水平没有确定的时候，无法插入
- 删除异常：只有一个人拿三级工资，这个人跳槽，那么三级工资与工资的对应关系也跟着删除了
- 更新异常：不好保持数据的一致性，因为工资水平和工资出现了很多次

#### BCNF
- 定义：表中A->B，则A一定是主键
- 三范式基本和BCNF等价，但是BCNF比三范式要求高一点
**符合三范式但是不符合BCNF的反例：**
 R(City,Street,Code)
存在以下依赖关系：
City,Street->Code
Code->City
所以主键是City,Street 
因为Code不能确定其他非主属性，所以符合第三范式
因为Code->City这个函数依赖下，Code不属于主键，所以不符合BCNF

#### 第四范式：消除多值依赖
#### 第五范式：消除连接依赖
